html 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SA Masters Ladies 50+ Squad - LK Performance Hockey</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8fafc; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .card { background: white; padding: 24px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); }
        .button { background: #2563eb; color: white; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; font-size: 14px; font-weight: 500; margin: 8px 4px; transition: all 0.2s; }
        .button:hover { transform: translateY(-1px); }
        .button.green { background: #16a34a; }
        .button.red { background: #dc2626; }
        .input { width: 100%; padding: 12px; border: 2px solid #e5e7eb; border-radius: 8px; margin: 8px 0; }
        .hidden { display: none; }
        .grid { display: grid; grid-template-columns: 2fr 1fr; gap: 24px; }
        .exercise-card { border: 2px solid #e5e7eb; border-radius: 8px; padding: 16px; margin: 12px 0; }
        .exercise-image { width: 100%; height: 200px; background-size: cover; background-position: center; border-radius: 8px; margin-bottom: 12px; }
        .whatsapp { position: fixed; bottom: 20px; right: 20px; background: #25d366; color: white; padding: 16px; border-radius: 50%; text-decoration: none; font-size: 20px; }
        @media (max-width: 768px) { .grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <!-- Registration/Login Screen -->
    <div id="auth" class="container">
        <div class="card" style="max-width: 500px; margin: 50px auto; text-align: center;">
            <h1>SA Masters Ladies 50+ Squad</h1>
            <h2 style="color: #16a34a; margin-bottom: 30px;">LK Performance Hockey Monitoring</h2>
            
            <!-- Registration Form -->
            <div id="registerForm">
                <h3 style="margin-bottom: 20px;">Register New Account</h3>
                <input type="text" id="fullName" placeholder="Full Name" class="input" required>
                <input type="email" id="email" placeholder="Email Address" class="input" required>
                <input type="password" id="password" placeholder="Password (min 6 characters)" class="input" required>
                <select id="role" class="input" required>
                    <option value="">Select Your Role</option>
                    <option value="player">Player</option>
                    <option value="coach">Coach</option>
                    <option value="team_manager">Team Manager</option>
                </select>
                <select id="position" class="input" style="display: none;">
                    <option value="">Select Position</option>
                    <option value="Forward">Forward</option>
                    <option value="Midfielder">Midfielder</option>
                    <option value="Defender">Defender</option>
                    <option value="Goalkeeper">Goalkeeper</option>
                </select>
                <input type="tel" id="phone" placeholder="Phone Number (+27...)" class="input">
                <button class="button green" onclick="register()" style="width: 100%;">Register Account</button>
                <p style="margin: 20px 0;">Already have an account? <a href="#" onclick="showLogin()">Login here</a></p>
            </div>

            <!-- Login Form -->
            <div id="loginForm" class="hidden">
                <h3 style="margin-bottom: 20px;">Login to Your Account</h3>
                <input type="email" id="loginEmail" placeholder="Email Address" class="input" required>
                <input type="password" id="loginPassword" placeholder="Password" class="input" required>
                <button class="button" onclick="login()" style="width: 100%;">Login</button>
                <p style="margin: 20px 0;">Don't have an account? <a href="#" onclick="showRegister()">Register here</a></p>
            </div>

            <div id="loading" class="hidden">
                <p>Loading...</p>
            </div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="container hidden">
        <div class="card">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h1>SA Masters Ladies 50+ Squad</h1>
                    <p id="welcomeMessage">Welcome back!</p>
                </div>
                <button class="button red" onclick="logout()">Sign Out</button>
            </div>
        </div>

        <div class="grid">
            <div>
                <div id="mainContent" class="card">
                    <h3>Welcome to Your Hockey Monitoring System</h3>
                    <p>Select an action from the menu to get started.</p>
                </div>
            </div>

            <div>
                <div class="card">
                    <h3>Quick Actions</h3>
                    <div id="quickActions">
                        <!-- Actions will load based on user role -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- WhatsApp Button -->
    <a href="https://wa.me/27833095413" target="_blank" class="whatsapp">üí¨</a>

    <script>
        // Initialize Supabase (you'll need to replace with your actual credentials)
        const supabaseUrl = 'YOUR_SUPABASE_URL'
        const supabaseKey = 'YOUR_SUPABASE_ANON_KEY'
        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey)

        let currentUser = null;

        // Real exercise images from the internet
        const exerciseImages = {
            'squats': 'https://images.unsplash.com/photo-1574680096145-d05b474e2155?w=400',
            'pushups': 'https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=400',
            'lunges': 'https://images.unsplash.com/photo-1566241440091-ec10de8db2e1?w=400',
            'stretching': 'https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=400',
            'running': 'https://images.unsplash.com/photo-1571008887538-b36bb32f4571?w=400',
            'yoga': 'https://images.unsplash.com/photo-1506629905607-d405b7a30db9?w=400'
        };

        // Show/hide forms
        function showLogin() {
            document.getElementById('registerForm').classList.add('hidden');
            document.getElementById('loginForm').classList.remove('hidden');
        }

        function showRegister() {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('registerForm').classList.remove('hidden');
        }

        // Show position field for players
        document.getElementById('role').addEventListener('change', function() {
            const positionField = document.getElementById('position');
            if (this.value === 'player') {
                positionField.style.display = 'block';
                positionField.required = true;
            } else {
                positionField.style.display = 'none';
                positionField.required = false;
            }
        });

        // Real registration function
        async function register() {
            const fullName = document.getElementById('fullName').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const role = document.getElementById('role').value;
            const position = document.getElementById('position').value;
            const phone = document.getElementById('phone').value;

            if (!fullName || !email || !password || !role) {
                alert('Please fill in all required fields');
                return;
            }

            if (role === 'player' && !position) {
                alert('Please select your position');
                return;
            }

            document.getElementById('loading').classList.remove('hidden');

            try {
                // Register with Supabase Auth
                const { data, error } = await supabase.auth.signUp({
                    email: email,
                    password: password,
                    options: {
                        data: {
                            full_name: fullName,
                            role: role,
                            position: position,
                            phone: phone
                        }
                    }
                });

                if (error) throw error;

                alert('Registration successful! Please check your email to verify your account.');
                showLogin();
            } catch (error) {
                alert('Registration failed: ' + error.message);
            } finally {
                document.getElementById('loading').classList.add('hidden');
            }
        }

        // Real login function
        async function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            if (!email || !password) {
                alert('Please enter email and password');
                return;
            }

            document.getElementById('loading').classList.remove('hidden');

            try {
                const { data, error } = await supabase.auth.signInWithPassword({
                    email: email,
                    password: password
                });

                if (error) throw error;

                currentUser = data.user;
                showDashboard();
            } catch (error) {
                alert('Login failed: ' + error.message);
            } finally {
                document.getElementById('loading').classList.add('hidden');
            }
        }

        // Show dashboard after login
        function showDashboard() {
            document.getElementById('auth').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            
            const userData = currentUser.user_metadata;
            document.getElementById('welcomeMessage').textContent = 
                `Welcome back, ${userData.full_name}! (${userData.role})`;
            
            loadQuickActions(userData.role);
        }

        // Load role-specific actions
        function loadQuickActions(role) {
            const actionsDiv = document.getElementById('quickActions');
            
            if (role === 'player') {
                actionsDiv.innerHTML = `
                    <button class="button" onclick="showWellnessLog()" style="width: 100%; margin: 4px 0;">üí™ Wellness Log</button>
                    <button class="button green" onclick="showTimeTrials()" style="width: 100%; margin: 4px 0;">‚è±Ô∏è Time Trials</button>
                    <button class="button" onclick="showExercises()" style="width: 100%; margin: 4px 0;">üèãÔ∏è My Exercises</button>
                    <button class="button red" onclick="reportInjury()" style="width: 100%; margin: 4px 0;">üè• Report Injury</button>
                `;
            } else if (role === 'coach') {
                actionsDiv.innerHTML = `
                    <button class="button" onclick="showTeamRoster()" style="width: 100%; margin: 4px 0;">üë• Team Roster</button>
                    <button class="button green" onclick="showExercises()" style="width: 100%; margin: 4px 0;">üèãÔ∏è Exercise Programs</button>
                    <button class="button" onclick="showTeamWellness()" style="width: 100%; margin: 4px 0;">üìä Team Wellness</button>
                `;
            } else {
                actionsDiv.innerHTML = `
                    <button class="button" onclick="showBudget()" style="width: 100%; margin: 4px 0;">üí∞ Budget</button>
                    <button class="button green" onclick="showWhatsApp()" style="width: 100%; margin: 4px 0;">üí¨ WhatsApp</button>
                `;
            }
        }

        // Real wellness logging with Supabase
        async function showWellnessLog() {
            document.getElementById('mainContent').innerHTML = `
                <h3>üí™ Daily Wellness Log</h3>
                <div style="margin-top: 20px;">
                    <label><strong>Energy Level (1-10):</strong></label>
                    <input type="range" id="energyLevel" min="1" max="10" value="5" class="input">
                    <span id="energyValue">5</span>
                    
                    <label><strong>Sleep Quality (1-10):</strong></label>
                    <input type="range" id="sleepQuality" min="1" max="10" value="5" class="input">
                    <span id="sleepValue">5</span>
                    
                    <label><strong>Muscle Soreness (1-10):</strong></label>
                    <input type="range" id="muscleSoreness" min="1" max="10" value="5" class="input">
                    <span id="sorenessValue">5</span>
                    
                    <textarea id="notes" placeholder="Any additional notes..." class="input" rows="3"></textarea>
                    
                    <button class="button green" onclick="saveWellnessLog()" style="width: 100%;">Save Wellness Log</button>
                </div>
                <div id="wellnessHistory" style="margin-top: 20px;">
                    <h4>Recent Entries</h4>
                    <div id="historyList">Loading...</div>
                </div>
            `;

            // Update display values
            document.getElementById('energyLevel').oninput = function() {
                document.getElementById('energyValue').textContent = this.value;
            };
            document.getElementById('sleepQuality').oninput = function() {
                document.getElementById('sleepValue').textContent = this.value;
            };
            document.getElementById('muscleSoreness').oninput = function() {
                document.getElementById('sorenessValue').textContent = this.value;
            };

            loadWellnessHistory();
        }

        // Save wellness data to Supabase
        async function saveWellnessLog() {
            const energyLevel = document.getElementById('energyLevel').value;
            const sleepQuality = document.getElementById('sleepQuality').value;
            const muscleSoreness = document.getElementById('muscleSoreness').value;
            const notes = document.getElementById('notes').value;

            try {
                const { data, error } = await supabase
                    .from('wellness_logs')
                    .insert([
                        {
                            user_id: currentUser.id,
                            energy_level: parseInt(energyLevel),
                            sleep_quality: parseInt(sleepQuality),
                            muscle_soreness: parseInt(muscleSoreness),
                            notes: notes,
                            log_date: new Date().toISOString().split('T')[0]
                        }
                    ]);

                if (error) throw error;

                alert('Wellness log saved successfully!');
                loadWellnessHistory();
            } catch (error) {
                alert('Error saving wellness log: ' + error.message);
            }
        }

        // Load wellness history from Supabase
        async function loadWellnessHistory() {
            try {
                const { data, error } = await supabase
                    .from('wellness_logs')
                    .select('*')
                    .eq('user_id', currentUser.id)
                    .order('log_date', { ascending: false })
                    .limit(5);

                if (error) throw error;

                const historyDiv = document.getElementById('historyList');
                if (data.length === 0) {
                    historyDiv.innerHTML = '<p>No wellness logs yet.</p>';
                } else {
                    historyDiv.innerHTML = data.map(log => `
                        <div style="background: #f9fafb; padding: 12px; border-radius: 6px; margin: 8px 0;">
                            <strong>${log.log_date}</strong><br>
                            Energy: ${log.energy_level}/10 | Sleep: ${log.sleep_quality}/10 | Soreness: ${log.muscle_soreness}/10
                            ${log.notes ? `<br><em>${log.notes}</em>` : ''}
                        </div>
                    `).join('');
                }
            } catch (error) {
                document.getElementById('historyList').innerHTML = '<p>Error loading history.</p>';
            }
        }

        // Show exercises with real images
        function showExercises() {
            document.getElementById('mainContent').innerHTML = `
                <h3>üèãÔ∏è Exercise Programs</h3>
                <div style="margin-top: 20px;">
                    <div class="exercise-card">
                        <div class="exercise-image" style="background-image: url('${exerciseImages.squats}');"></div>
                        <h4>Bodyweight Squats</h4>
                        <p><strong>Sets:</strong> 3 x 15</p>
                        <p><strong>Instructions:</strong> Stand with feet shoulder-width apart, lower body as if sitting back into a chair.</p>
                        <p style="color: #9333ea;"><strong>50+ Modifications:</strong> Use a chair for support if needed.</p>
                    </div>
                    
                    <div class="exercise-card">
                        <div class="exercise-image" style="background-image: url('${exerciseImages.pushups}');"></div>
                        <h4>Wall Push-ups</h4>
                        <p><strong>Sets:</strong> 3 x 12</p>
                        <p><strong>Instructions:</strong> Stand arm's length from wall, place palms flat against wall, push body toward and away from wall.</p>
                        <p style="color: #9333ea;"><strong>50+ Modifications:</strong> Move closer to wall for easier variation.</p>
                    </div>
                    
                    <div class="exercise-card">
                        <div class="exercise-image" style="background-image: url('${exerciseImages.stretching}');"></div>
                        <h4>Dynamic Stretching</h4>
                        <p><strong>Duration:</strong> 10 minutes</p>
                        <p><strong>Instructions:</strong> Gentle movements to warm up muscles and joints.</p>
                        <p style="color: #9333ea;"><strong>50+ Focus:</strong> Extra attention to hip and shoulder mobility.</p>
                    </div>
                </div>
            `;
        }

        // Time trials with real data storage
        async function showTimeTrials() {
            document.getElementById('mainContent').innerHTML = `
                <h3>‚è±Ô∏è 1.2km Time Trials</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div class="exercise-card">
                        <h4>Record New Time</h4>
                        <input type="date" id="trialDate" class="input" value="${new Date().toISOString().split('T')[0]}">
                        <input type="text" id="trialTime" placeholder="MM:SS (e.g., 6:45)" class="input">
                        <select id="conditions" class="input">
                            <option>Perfect conditions</option>
                            <option>Windy</option>
                            <option>Hot weather</option>
                            <option>Cold weather</option>
                            <option>Rainy</option>
                        </select>
                        <textarea id="trialNotes" placeholder="Notes about the trial..." class="input" rows="3"></textarea>
                        <button class="button red" onclick="saveTimeTrial()" style="width: 100%;">Record Time Trial</button>
                    </div>
                    <div class="exercise-card">
                        <h4>Your Recent Times</h4>
                        <div id="trialHistory">Loading...</div>
                    </div>
                </div>
            `;
            
            loadTimeTrialHistory();
        }

        // Save time trial to Supabase
        async function saveTimeTrial() {
            const date = document.getElementById('trialDate').value;
            const time = document.getElementById('trialTime').value;
            const conditions = document.getElementById('conditions').value;
            const notes = document.getElementById('trialNotes').value;

            if (!date || !time) {
                alert('Please enter date and time');
                return;
            }

            // Convert time to seconds for easier comparison
            const timeParts = time.split(':');
            const totalSeconds = parseInt(timeParts[0]) * 60 + parseInt(timeParts[1]);

            try {
                const { data, error } = await supabase
                    .from('time_trials')
                    .insert([
                        {
                            user_id: currentUser.id,
                            trial_date: date,
                            time_seconds: totalSeconds,
                            time_display: time,
                            conditions: conditions,
                            notes: notes
                        }
                    ]);

                if (error) throw error;

                alert('Time trial recorded successfully!');
                document.getElementById('trialTime').value = '';
                document.getElementById('trialNotes').value = '';
                loadTimeTrialHistory();
            } catch (error) {
                alert('Error saving time trial: ' + error.message);
            }
        }

        // Load time trial history
        async function loadTimeTrialHistory() {
            try {
                const { data, error } = await supabase
                    .from('time_trials')
                    .select('*')
                    .eq('user_id', currentUser.id)
                    .order('trial_date', { ascending: false })
                    .limit(5);

                if (error) throw error;

                const historyDiv = document.getElementById('trialHistory');
                if (data.length === 0) {
                    historyDiv.innerHTML = '<p>No time trials recorded yet.</p>';
                } else {
                    historyDiv.innerHTML = data.map(trial => `
                        <div style="background: #f9fafb; padding: 12px; border-radius: 6px; margin: 8px 0;">
                            <strong>${trial.trial_date}: ${trial.time_display}</strong><br>
                            Conditions: ${trial.conditions}
                            ${trial.notes ? `<br><em>${trial.notes}</em>` : ''}
                        </div>
                    `).join('');
                }
            } catch (error) {
                document.getElementById('trialHistory').innerHTML = '<p>Error loading history.</p>';
            }
        }

        // Logout function
        async function logout() {
            await supabase.auth.signOut();
            currentUser = null;
            document.getElementById('auth').classList.remove('hidden');
            document.getElementById('dashboard').classList.add('hidden');
        }

        // Check if user is already logged in
        supabase.auth.onAuthStateChange((event, session) => {
            if (session) {
                currentUser = session.user;
                showDashboard();
            }
        });

        // Other placeholder functions
        function reportInjury() {
            alert('Injury reporting system - contact coach immediately at +27 83 309 5413');
        }

        function showTeamRoster() {
            document.getElementById('mainContent').innerHTML = '<h3>üë• Team Roster</h3><p>Team management features for coaches.</p>';
        }

        function showTeamWellness() {
            document.getElementById('mainContent').innerHTML = '<h3>üìä Team Wellness</h3><p>Team wellness overview for coaches.</p>';
        }

        function showBudget() {
            document.getElementById('mainContent').innerHTML = '<h3>üí∞ Budget Management</h3><p>Financial tracking for team managers.</p>';
        }

        function showWhatsApp() {
            window.open('https://wa.me/27833095413', '_blank');
        }
    </script>
</body>
</html>
